spring:
  application:
    name: mindmooc-business
  
  # 数据源配置
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://localhost:3306/mindmooc?useUnicode=true&characterEncoding=utf-8&useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true
    username: root
    password: 123456
  
  # 文件上传配置
  servlet:
    multipart:
      max-file-size: 500MB
      max-request-size: 500MB
  
  # Nacos 服务发现
  cloud:
    nacos:
      server-addr: localhost:8848
      discovery:
        namespace: public

# MyBatis Plus 配置
mybatis-plus:
  configuration:
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl  # 打印 SQL 日志
    map-underscore-to-camel-case: true  # 下划线转驼峰
  global-config:
    db-config:
      id-type: assign_uuid  # 使用 UUID 作为主键
      logic-delete-field: deleted  # 逻辑删除字段
      logic-delete-value: 1
      logic-not-delete-value: 0
  mapper-locations: classpath*:/mapper/**/*.xml

# JWT 配置
jwt:
  secret: MindMoocSecretKeyForJWTTokenGenerationAndValidation2026
  expiration: 86400000  # 24 小时（毫秒）

# 服务器配置
server:
  port: 10010

# 文件存储配置（本地存储，后续可替换为 S3）
file:
  upload:
    path: G:/work/GraduationProject/code/MindMooc/backend/uploads/
    base-url: http://localhost:10010/files/

# AI 服务配置（Flask 服务地址）
ai:
  service:
    url: http://localhost:10020
